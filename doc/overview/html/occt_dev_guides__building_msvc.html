<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Open CASCADE Technology: Building with MS Visual C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('occt_dev_guides__building_msvc.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Building with MS Visual C++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#build_msvc_intro">General</a></li>
<li class="level1"><a href="#build_msvc_3rdparty">Third-party libraries</a></li>
<li class="level1"><a href="#build_msvc_conf">Configuration</a></li>
<li class="level1"><a href="#build_msvc_generate">Projects generation</a></li>
<li class="level1"><a href="#build_msvc_build">Building</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="build_msvc_intro"></a>
General</h1>
<p>This page describes steps to build OCCT libraries from a complete source archive on Windows with <b>MS Visual C++</b> using projects generated by <b>genproj</b> tool. It is an alternative to use of CMake build system (see <a class="el" href="occt_dev_guides__building_cmake.html">Building with CMake</a>).</p>
<p><b>genproj</b> is a legacy tool (originated from command "wgenproj" in WOK) for generation of Visual Studio, Code.Blocks, and XCode project files used for building Open CASCADE Technology. These project files are placed inside OCCT directory (in <em>adm</em> subfolder) and use relative paths, thus can be moved together with sources.</p>
<p>The project files included in official distribution of OCCT are generated by this tool. If you have official distribution with project files included, you can use them directly without a need to call <b>genproj</b>.</p>
<h1><a class="anchor" id="build_msvc_3rdparty"></a>
Third-party libraries</h1>
<p>Before building OCCT, make sure to have all the required third-party libraries installed.</p>
<p>The easiest way to install third-party libraries is to download archive with pre-built binaries, corresponding to version of Visual Studio you are using, from <a href="http://www.opencascade.com/content/3rd-party-components">http://www.opencascade.com/content/3rd-party-components</a>.</p>
<p>You can also build third-party libraries from their sources, see <a class="el" href="occt_dev_guides__building_3rdparty_windows.html">Building 3rd-party libraries on Windows</a> for instructions.</p>
<h1><a class="anchor" id="build_msvc_conf"></a>
Configuration</h1>
<p>If you have Visual Studio projects already available (pre-installed or generated), you can edit file <em>custom.bat</em> manually to adjust the environment:</p>
<ul>
<li><em>VCVER</em> &ndash; version of Visual Studio (vc10, vc11, vc12, or vc14), and relevant <em>VCVARS</em> path</li>
<li><em>ARCH</em> &ndash; architecture (32 or 64), affects only <em>PATH</em> variable for execution</li>
<li><em>HAVE_*</em> &ndash; flags to enable or disable use of optional third-party products</li>
<li><em>CSF_OPT_*</em> &ndash; paths to search for includes and binaries of all used third-party products</li>
<li><em>SHORTCUT_HEADERS</em> &ndash; if set to "true", folder <em>inc</em> will be populated by short-cut files pointing to actual headers located in <em>src</em>; otherwise, header files will be copied to <em>inc</em>.</li>
</ul>
<p>Alternatively, you can launch <b>genconf</b>, a GUI tool allowing to configure build options interactively. That tool will analyze your environment and propose you to choose available options:</p>
<ul>
<li>Version of Visual Studio to be used (from the list of installed ones, detected by presence of environment variables like <em>VS100COMNTOOLS</em>)</li>
<li>Option to use short-cuts to header files in folder <em>inc</em> (enabled by default).</li>
<li>Location of third-party libraries (usually downloaded from OCCT web site, see above).</li>
<li>Path to common directory where third-party libraries are located (optional)</li>
<li>Paths to headers and binaries of the third-party libraries (found automatically basing on previous options; click button "Reset" to update).</li>
</ul>
<div class="image">
<img src="genconf_windows.png" alt="genconf_windows.png"/>
</div>
<p>Click "Save" to store the specified configuration in <em>custom.bat</em> file.</p>
<h1><a class="anchor" id="build_msvc_generate"></a>
Projects generation</h1>
<p>Launch <b>genproj</b> to update content of <em>inc</em> folder and generate project files after changes in OCCT code affecting layout or composition of source files.</p>
<dl class="section note"><dt>Note</dt><dd>To use <b>genproj</b> and <b>genconf</b> tools you need to have Tcl installed and accessible by PATH. If Tcl is not found, the tool may prompt you to enter the path to directory where Tcl can be found.</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ genproj.bat</div>
</div><!-- fragment --><p>Note that if <em>custom.bat</em> is not present, <b>genproj</b> will start <b>genconf</b> to configure environment.</p>
<h1><a class="anchor" id="build_msvc_build"></a>
Building</h1>
<p>Launch <em>msvc.bat</em> to start Visual Studio with all necessary environment variables defined, and build the whole solution or required toolkits.</p>
<p>Note: the MSVC project files are located in folders <em>adm\msvc\vc...</em>. Binaries are produced in <em>win32</em> or <em>win64</em> folders.</p>
<p>To start DRAW, launch <em>draw.bat</em>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 4 2016 21:57:46 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
