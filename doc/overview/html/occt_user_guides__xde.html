<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Open CASCADE Technology: Extended Data Exchange (XDE)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('occt_user_guides__xde.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Extended Data Exchange (XDE) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#occt_xde_1">Introduction</a><ul><li class="level2"><a href="#occt_xde_1_1">Basic terms</a></li>
<li class="level2"><a href="#occt_xde_1_2">XDE Organization</a></li>
<li class="level2"><a href="#occt_xde_1_3">Assemblies</a></li>
<li class="level2"><a href="#occt_xde_1_4">Validation Properties</a></li>
<li class="level2"><a href="#occt_xde_1_5">Names</a></li>
<li class="level2"><a href="#occt_xde_1_6">Colors and Layers</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_xde_2">Working with XDE</a><ul><li class="level2"><a href="#occt_xde_2_1">Getting started</a><ul><li class="level3"><a href="#occt_xde_2_1_1">Environment variables</a></li>
<li class="level3"><a href="#occt_xde_2_1_2">General Check</a></li>
<li class="level3"><a href="#occt_xde_2_1_3">Get an Application or an Initialized Document</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_xde_2_2">Shapes and Assemblies</a><ul><li class="level3"><a href="#occt_xde_2_2_1">Initialize an XDE Document (Shapes)</a></li>
<li class="level3"><a href="#occt_xde_2_2_2">Get a Node considered as an Assembly</a></li>
<li class="level3"><a href="#occt_xde_2_2_3">Updating the Assembly after Filling or Editing</a></li>
<li class="level3"><a href="#occt_xde_2_2_4">Adding or Setting Top Level Shapes</a></li>
<li class="level3"><a href="#occt_xde_2_2_5">Setting a given Shape at a given Label</a></li>
<li class="level3"><a href="#occt_xde_2_2_6">Getting a Shape from a Label</a></li>
<li class="level3"><a href="#occt_xde_2_2_7">Getting a Label from a Shape</a></li>
<li class="level3"><a href="#occt_xde_2_2_8">Other Queries on a Label</a></li>
<li class="level3"><a href="#occt_xde_2_2_9">Instances and References for Components</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_xde_2_3">Editing Shapes</a></li>
<li class="level2"><a href="#occt_xde_2_4">Management of Sub-Shapes</a></li>
<li class="level2"><a href="#occt_xde_2_5">Properties</a><ul><li class="level3"><a href="#occt_xde_2_5_1">Name</a></li>
<li class="level3"><a href="#occt_xde_2_5_2">Centroid</a></li>
<li class="level3"><a href="#occt_xde_2_5_3">Area</a></li>
<li class="level3"><a href="#occt_xde_2_5_4">Volume</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_xde_2_6">Colors and Layers</a><ul><li class="level3"><a href="#occt_xde_2_6_1">Initialization</a></li>
<li class="level3"><a href="#occt_xde_2_6_2">Adding a Color</a></li>
<li class="level3"><a href="#occt_xde_2_6_3">Queries on Colors</a></li>
<li class="level3"><a href="#occt_xde_2_6_4">Editing Colors</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_xde_2_8">Reading and Writing STEP or IGES</a><ul><li class="level3"><a href="#occt_xde_2_8_1">Reading a STEP file</a></li>
<li class="level3"><a href="#occt_xde_2_8_2">Writing a STEP file</a></li>
<li class="level3"><a href="#occt_xde_2_8_3">Reading an IGES File</a></li>
<li class="level3"><a href="#occt_xde_2_8_4">Writing an IGES File</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_xde_2_9">Using an XDE Document</a><ul><li class="level3"><a href="#occt_xde_2_91">XDE Data inside an Application Document</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="occt_xde_1"></a>
Introduction</h1>
<p>This manual explains how to use the Extended Data Exchange (XDE). It provides basic documentation on setting up and using XDE. For advanced information on XDE and its applications, see our <a href="http://www.opencascade.com/content/tutorial-learning">E-learning &amp; Training</a> offerings.</p>
<p>The Extended Data Exchange (XDE) module allows extending the scope of exchange by translating additional data attached to geometric BREP data, thereby improving the interoperability with external software.</p>
<p>Data types such as colors, layers, assembly descriptions and validation properties (i.e. center of gravity, etc.) are supported. These data are stored together with shapes in an XCAF document. It is also possible to add a new types of data taking the existing tools as prototypes.</p>
<p>Finally, the XDE provides reader and writer tools for reading and writing the data supported by XCAF to and from IGES and STEP files.</p>
<div class="image">
<img src="646_xde_11_400.png" alt="646_xde_11_400.png"/>
<div class="caption">
Shape imported using XDE</div></div>
<p>The XDE component requires <a class="el" href="occt_user_guides__shape_healing.html">Shape Healing</a> toolkit for operation.</p>
<h2><a class="anchor" id="occt_xde_1_1"></a>
Basic terms</h2>
<p>For better understanding of XDE, certain key terms are defined:</p><ul>
<li><b>Shape</b> &ndash; a standalone shape, which does not belong to the assembly structure.</li>
<li><b>Instance</b> &ndash; a replication of another shape with a location that can be the same location or a different one.</li>
<li><b>Assembly</b> &ndash; a construction that is either a root or a sub-assembly.</li>
</ul>
<h2><a class="anchor" id="occt_xde_1_2"></a>
XDE Organization</h2>
<p>The basis of XDE, called XCAF, is a framework based on OCAF (Open CASCADE Technology Application Framework) and is intended to be used with assemblies and with various kinds of attached data (attributes). Attributes can be Individual attributes for a shape, specifying some characteristics of a shape, or they can be Grouping attributes, specifying that a shape belongs to a given group whose definition is specified apart from the shapes.</p>
<p>XDE works in an OCAF document with a specific organization defined in a dedicated XCAF module. This organization is used by various functions of XDE to exchange standardized data other than shapes and geometry.</p>
<p>The Assembly Structure and attributes assigned to shapes are stored in the OCAF tree. It is possible to obtain <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s.html">TopoDS</a> representation for each level of the assembly in the form of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> or <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a></em> using the API.</p>
<p>Basic elements used by XDE are introduced in the XCAF sub-module by the package <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc.html">XCAFDoc</a>. These elements consist in descriptions of commonly used data structures (apart from the shapes themselves) in normalized data exchanges. They are not attached to specific applications and do not bring specific semantics, but are structured according to the use and needs of data exchanges. The Document used by XDE usually starts as a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em>.</p>
<h2><a class="anchor" id="occt_xde_1_3"></a>
Assemblies</h2>
<p>XDE supports assemblies by separating shape definitions and their locations. Shapes are simple OCAF objects without a location definition. An assembly consists of several components. Each of these components references one and the same specified shape with different locations. All this provides an increased flexibility in working on multi-level assemblies.</p>
<p>For example, a mechanical assembly can be defined as follows: </p><div class="image">
<img src="xde_image003.png" alt="xde_image003.png"/>
<div class="caption">
Assembly Description</div></div>
<div class="image">
<img src="xde_image004.png" alt="xde_image004.png"/>
<div class="caption">
Assembly View</div></div>
<p>XDE defines the specific organization of the assembly content. Shapes are stored on sub-labels of label 0:1:1. There can be one or more roots (called free shapes) whether they are true trees or simple shapes. A shape can be considered to be an Assembly (such as AS1 under 0:1:1:1 in Figure1) if it is defined with Components (sub-shapes, located or not).</p>
<p><em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___shape_tool.html">XCAFDoc_ShapeTool</a></em> is a tool that allows managing the Shape section of the XCAF document. This tool is implemented as an attribute and located at the root label of the shape section.</p>
<h2><a class="anchor" id="occt_xde_1_4"></a>
Validation Properties</h2>
<p>Validation properties are geometric characteristics of Shapes (volume, centroid, surface area) written to STEP files by the sending system. These characteristics are read by the receiving system to validate the quality of the translation. This is done by comparing the values computed by the original system with the same values computed by the receiving system on the resulting model.</p>
<p>Advanced Data Exchange supports both reading and writing of validation properties, and provides a tool to check them.</p>
<div class="image">
<img src="xde_image005.png" alt="xde_image005.png"/>
<div class="caption">
Validation Property Descriptions</div></div>
 <p>Check logs contain deviations of computed values from the values stored in a STEP file. A typical example appears as follows:</p>
<table class="doxtable">
<tr>
<th align="left">Label </th><th align="left">Area defect </th><th align="left">Volume defect </th><th align="left">dX </th><th align="left">dY </th><th align="left">DZ </th><th align="left">Name  </th></tr>
<tr>
<td align="left">0:1:1:1 </td><td align="left">312.6 (0%) </td><td align="left">-181.7 (0%) </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">"S1" </td></tr>
<tr>
<td align="left">0:1:1:2 </td><td align="left">-4.6 (0%) </td><td align="left">-191.2 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">"MAINBODY" </td></tr>
<tr>
<td align="left">0:1:1:3 </td><td align="left">-2.3 (0%) </td><td align="left">-52.5 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">"MAIN_BODY_BACK" </td></tr>
<tr>
<td align="left">0:1:1:4 </td><td align="left">-2.3 (0%) </td><td align="left">-51.6 (0%) </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">"MAIN_BODY_FRONT" </td></tr>
<tr>
<td align="left">0:1:1:5 </td><td align="left">2.0 (0%) </td><td align="left">10.0 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">"HEAD" </td></tr>
<tr>
<td align="left">0:1:1:6 </td><td align="left">0.4 (0%) </td><td align="left">0.0 (0%) </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">-0.00 </td><td align="left">"HEAD_FRONT" </td></tr>
<tr>
<td align="left">0:1:1:7 </td><td align="left">0.4 (0%) </td><td align="left">0.0 (0%) </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">-0.00 </td><td align="left">"HEAD_BACK" </td></tr>
<tr>
<td align="left">0:1:1:8 </td><td align="left">-320.6 (0%) </td><td align="left">10.9 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">"TAIL" </td></tr>
<tr>
<td align="left">0:1:1:9 </td><td align="left">0.0 (0%) </td><td align="left">0.0 (0%) </td><td align="left">-0.00 </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">"TAIL_MIDDLE" </td></tr>
<tr>
<td align="left">0:1:1:10 </td><td align="left">-186.2 (0%) </td><td align="left">4.8 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">"TAIL_TURBINE" </td></tr>
<tr>
<td align="left">0:1:1:11 </td><td align="left">0.3 (0%) </td><td align="left">-0.0 (0%) </td><td align="left">-0.00 </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">"FOOT" </td></tr>
<tr>
<td align="left">0:1:1:12 </td><td align="left">0.0 (0%) </td><td align="left">-0.0 (0%) </td><td align="left">0.00 </td><td align="left">-0.00 </td><td align="left">-0.00 </td><td align="left">"FOOT_FRONT" </td></tr>
<tr>
<td align="left">0:1:1:13 </td><td align="left">0.0 (0%) </td><td align="left">0.0 (0%) </td><td align="left">-0.00 </td><td align="left">0.00 </td><td align="left">0.00 </td><td align="left">"FOOT_BACK" </td></tr>
</table>
<p>In our example, it can be seen that no errors were detected for either area, volume or positioning data.</p>
<h2><a class="anchor" id="occt_xde_1_5"></a>
Names</h2>
<p>XDE supports reading and writing the names of shapes to and from IGES and STEP file formats. This functionality can be switched off if you do not need this type of data, thereby reducing the size of the document.</p>
<div class="image">
<img src="614_xde_04_400.png" alt="614_xde_04_400.png"/>
<div class="caption">
Instance Names</div></div>
<h2><a class="anchor" id="occt_xde_1_6"></a>
Colors and Layers</h2>
<p>XDE can read and write colors and layers assigned to shapes or their subparts (down to the level of faces and edges) to and from both IGES and STEP formats. Three types of colors are defined in the enumeration <em>XCAFDoc_ColorType</em>:</p><ul>
<li>generic color <em>(XCAFDoc_ColorGen)</em></li>
<li>surface color <em>(XCAFDoc_ColorSurf)</em></li>
<li>curve color <em>(XCAFDoc_ColorCurv)</em></li>
</ul>
<div class="image">
<img src="xde_image006.png" alt="xde_image006.png"/>
<div class="caption">
Colors and Layers</div></div>
<h1><a class="anchor" id="occt_xde_2"></a>
Working with XDE</h1>
<h2><a class="anchor" id="occt_xde_2_1"></a>
Getting started</h2>
<p>As explained in the last chapter, XDE uses <em>TDocStd_Documents</em> as a starting point. The general purpose of XDE is:</p><ul>
<li>Checking if an existing document is fit for XDE;</li>
<li>Getting an application and initialized document;</li>
<li>Initializing a document to fit it for XDE;</li>
<li>Adding, setting and finding data;</li>
<li>Querying and managing shapes;</li>
<li>Attaching properties to shapes.</li>
</ul>
<p>The Document used by XDE usually starts as a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em>.</p>
<h3><a class="anchor" id="occt_xde_2_1_1"></a>
Environment variables</h3>
<p>To use XDE you have to set the environment variables properly. Make sure that two important environment variables are set as follows:</p><ul>
<li><em>CSF_PluginDefaults</em> points to sources of <em>%CASROOT%/src/XCAFResources ($CASROOT/src/XCAFResources)</em>.</li>
<li><em>CSF_XCAFDefaults</em> points to sources of <em>%CASROOT%/src/XCAFResources ($CASROOT/src/XCAFResources)</em>.</li>
</ul>
<h3><a class="anchor" id="occt_xde_2_1_2"></a>
General Check</h3>
<p>Before working with shapes, properties, and other types of information, the global organization of an XDE Document can be queried or completed to determine if an existing Document is actually structured for use with XDE.</p>
<p>To find out if an existing <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em> is suitable for XDE, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(TDocStd_Document) doc... </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if ( XCAFDoc_DocumentTool::IsXCAFDocument (doc) ) { .. yes .. } </div>
</div><!-- fragment --><p> If the Document is suitable for XDE, you can perform operations and queries explained in this guide. However, if a Document is not fully structured for XDE, it must be initialized.</p>
<h3><a class="anchor" id="occt_xde_2_1_3"></a>
Get an Application or an Initialized Document</h3>
<p>If you want to retrieve an existing application or an existing document (known to be correctly structured for XDE), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(TDocStd_Document) aDoc; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle(XCAFApp_Application) anApp = XCAFApp_Application::GetApplication(); </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;anApp-&gt;NewDocument(;MDTV-XCAF;,aDoc); </div>
</div><!-- fragment --><h2><a class="anchor" id="occt_xde_2_2"></a>
Shapes and Assemblies</h2>
<h3><a class="anchor" id="occt_xde_2_2_1"></a>
Initialize an XDE Document (Shapes)</h3>
<p>An XDE Document begins with a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em>. Assuming you have a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em> already created, you can ensure that it is correctly structured for XDE by initializing the XDE structure as follows: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(TDocStd_Document) doc... </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle (XCAFDoc_ShapeTool) myAssembly = </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;XCAFDoc_DocumentTool::ShapeTool (Doc-&gt;Main()); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;TDF_Label aLabel = myAssembly-&gt;NewShape() </div>
</div><!-- fragment --><p> <b>Note</b> that the method <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___document_tool.html#a6e887e5f037498967d7b04e33d8b263d">XCAFDoc_DocumentTool::ShapeTool</a></em> returns the <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___shape_tool.html">XCAFDoc_ShapeTool</a></em>. The first time this method is used, it creates the <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___shape_tool.html">XCAFDoc_ShapeTool</a></em>. In our example, a handle is used for the <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em>.</p>
<h3><a class="anchor" id="occt_xde_2_2_2"></a>
Get a Node considered as an Assembly</h3>
<p>To get a node considered as an Assembly from an XDE structure, you can use the Label of the node. Assuming that you have a properly initialized <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_doc_std___document.html">TDocStd_Document</a></em>, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(TDocStd_Document) doc... </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle(XCAFDoc_ShapeTool) myAssembly = XCAFDoc_DocumentTool::ShapeTool (aLabel); </div>
</div><!-- fragment --><p> In the previous example, you can also get the Main Item of an XDE document, which records the root shape representation (as a Compound if it is an Assembly) by using <em>ShapeTool(Doc-&gt;Main())</em> instead of <em>ShapeTool(aLabel)</em>.</p>
<p>You can then query or edit this Assembly node, the Main Item or another one (<em>myAssembly</em> in our examples).</p>
<p><b>Note</b> that for the examples in the rest of this guide, <em>myAssembly</em> is always presumed to be accessed this way, so this information will not be repeated.</p>
<h3><a class="anchor" id="occt_xde_2_2_3"></a>
Updating the Assembly after Filling or Editing</h3>
<p>Some actions in this chapter affect the content of the document, considered as an Assembly. As a result, you will sometimes need to update various representations (including the compounds).</p>
<p>To update the representations, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;myAssembly-&gt;UpdateAssembly(aLabel); </div>
</div><!-- fragment --><p> Since this call is always used by the editing functions, you need not apply it for such functions. However, you will need this call if special edits, not using XCAF functions, are used on the document.</p>
<h3><a class="anchor" id="occt_xde_2_2_4"></a>
Adding or Setting Top Level Shapes</h3>
<p>Shapes can be added as top-level shapes. Top level means that they can be added to an upper level assembly or added on their own at the highest level as a component or referred by a located instance. Therefore two types of top-level shapes can be added:</p><ul>
<li>shapes with upper level references</li>
<li>free shapes (that correspond to roots) without any upper reference</li>
</ul>
<p><b>Note</b> that several top-level shapes can be added to the same component.</p>
<p>A shape to be added can be defined as a compound (if required), with the following interpretations:</p><ul>
<li>If the Shape is a compound, according to the user choice, it may or may not be interpreted as representing an Assembly. If it is an Assembly, each of its sub-shapes defines a sub-label.</li>
<li>If the Shape is not a compound, it is taken as a whole, without breaking it down.</li>
</ul>
<p>To break down a Compound in the assembly structure, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean makeAssembly; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// True to interpret a Compound as an Assembly, </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// False to take it as a whole </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;aLabel = myAssembly-&gt;AddShape(aShape, makeAssembly); </div>
</div><!-- fragment --><p> Each node of the assembly therefore refers to its sub-shapes.</p>
<p>Concerning located instances of sub-shapes, the corresponding shapes, (without location) appear at distinct sub-labels. They are referred to by a shape instance, which associates a location.</p>
<h3><a class="anchor" id="occt_xde_2_2_5"></a>
Setting a given Shape at a given Label</h3>
<p>A top-level shape can be changed. In this example, no interpretation of compound is performed: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_CString LabelString ...; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// identifies the Label (form ;0:i:j...;) </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;TDF_Label aLabel...; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// A label must be present </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;myAssembly-&gt;SetShape(aLabel, aShape); </div>
</div><!-- fragment --><h3><a class="anchor" id="occt_xde_2_2_6"></a>
Getting a Shape from a Label</h3>
<p>To get a shape from its Label from the top-level, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_Label aLabel...</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// A label must be present</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if (aLabel.IsNull()) { </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  // no such label : abandon</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;TopoDS_Shape aShape;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;aShape = myAssembly-&gt;GetShape(aLabel);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;if (aShape.IsNull()) {</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  // this label is not for a Shape</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div>
</div><!-- fragment --><p> <b>Note</b> that if the label corresponds to an assembly, the result is a compound.</p>
<h3><a class="anchor" id="occt_xde_2_2_7"></a>
Getting a Label from a Shape</h3>
<p>To get a Label, which is attached to a Shape from the top-level, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean findInstance = Standard_False; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// (this is default value)</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;aLabel = myAssembly-&gt;FindShape(aShape [,findInstance]);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (aLabel.IsNull()) { </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  // no label found for this shape</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div>
</div><!-- fragment --><p> If <em>findInstance</em> is True, a search is made for the shape with the same location. If it is False (default value), a search is made among original, non-located shapes.</p>
<h3><a class="anchor" id="occt_xde_2_2_8"></a>
Other Queries on a Label</h3>
<p>Various other queries can be made from a Label within the Main Item of XDE: </p><h4>Main Shapes</h4>
<p>To determine if a Shape is recorded (or not), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsShape(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p>To determine if the shape is top-level, i.e. was added by the <em>AddShape</em> method, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsTopLevel(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p>To get a list of top-level shapes added by the <em>AddShape</em> method, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_LabelSequence frshapes; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;myAssembly-&gt;GetShapes(frshapes); </div>
</div><!-- fragment --><p>To get all free shapes at once if the list above has only one item, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TopoDS_Shape result = myAssembly-&gt;GetShape(frshapes.Value(1)); </div>
</div><!-- fragment --><p>If there is more than one item, you must create and fill a compound, use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TopoDS_Compound C; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;BRep_Builder B; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;B.MakeCompound(C); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;for(Standard_Integer i=1; i=frshapes.Length(); i++) { </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  TopoDS_Shape S = myAssembly-&gt;GetShape(frshapes.Value(i)); </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  B.Add(C,S); </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;} </div>
</div><!-- fragment --><p>In our example, the result is the compound C. To determine if a shape is a free shape (no reference or super-assembly), use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsFree(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p>To get a list of Free Shapes (roots), use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_LabelSequence frshapes; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;myAssembly-&gt;GetFreeShapes(frshapes); </div>
</div><!-- fragment --><p>To get the shapes, which use a given shape as a component, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_LabelSequence users; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Standard_Integer nbusers = myAssembly-&gt;GetUsers(aLabel,users); </div>
</div><!-- fragment --><p> The count of users is contained with <em>nbusers</em>. It contains 0 if there are no users.</p>
<h4>Assembly and Components</h4>
<p>To determine if a label is attached to the main part or to a sub-part (component), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if (myAssembly-&gt;IsComponent(aLabel)) { .. yes .. } </div>
</div><!-- fragment --><p> To determine whether a label is a node of a (sub-) assembly or a simple shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsAssembly(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p>If the label is a node of a (sub-) assembly, you can get the count of components, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean subchilds = Standard_False; //default </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Standard_Integer nbc = myAssembly-&gt;NbComponents (aLabel [,subchilds]); </div>
</div><!-- fragment --><p>If <em>subchilds</em> is True, commands also consider sub-levels. By default, only level one is checked.</p>
<p>To get component Labels themselves, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean subchilds = Standard_False; //default </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TDF_LabelSequence comps; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Standard_Boolean isassembly = myAssembly-&gt;GetComponents </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;(aLabel,comps[,subchilds]); </div>
</div><!-- fragment --> <h3><a class="anchor" id="occt_xde_2_2_9"></a>
Instances and References for Components</h3>
<p>To determine if a label is a simple shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsSimpleShape(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p> To determine if a label is a located reference to another one, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myAssembly-&gt;IsReference(aLabel) ) { .. yes .. } </div>
</div><!-- fragment --><p> If the label is a located reference, you can get the location, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TopLoc_Location loc = myAssembly-&gt;GetLocation (aLabel); </div>
</div><!-- fragment --><p> To get the label of a referenced original shape (also tests if it is a reference), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean isref = myAssembly-&gt;GetReferredShape </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(aLabel, refLabel); </div>
</div><!-- fragment --><p><b>Note</b> <em>isref</em> returns False if <em>aLabel</em> is not for a reference.</p>
<h2><a class="anchor" id="occt_xde_2_3"></a>
Editing Shapes</h2>
<p>In addition to the previously described <em>AddShape</em> and <em>SetShape</em>, several shape edits are possible.</p>
<p>To remove a Shape, and all its sub-labels, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean remsh = myAssembly-&gt;RemoveShape(aLabel); </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// remsh is returned True if done </div>
</div><!-- fragment --><p> This operation will fail if the shape is neither free nor top level.</p>
<p>To add a Component to the Assembly, from a new shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Boolean expand = Standard_False; //default </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TDF_Label aLabel = myAssembly-&gt;AddComponent (aShape [,expand]); </div>
</div><!-- fragment --><p> If <em>expand</em> is True and <em>aShape</em> is a Compound, <em>aShape</em> is broken down to produce sub-components, one for each of its sub-shapes.</p>
<p>To add a component to the assembly, from a previously recorded shape (the new component is defined by the label of the reference shape, and its location), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_Label refLabel ...; // the label of reference shape </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TopLoc_Location loc ...; // the desired location </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;TDF_Label aLabel = myAssembly-&gt;AddComponent (refLabel, loc); </div>
</div><!-- fragment --><p> To remove a component from the assembly, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;myAssembly-&gt;RemoveComponent (aLabel); </div>
</div><!-- fragment --><h2><a class="anchor" id="occt_xde_2_4"></a>
Management of Sub-Shapes</h2>
<p>In addition to components of a (sub-)assembly, it is possible to have individual identification of some sub-shapes inside any shape. Therefore, you can attach specific attributes such as Colors. Some additional actions can be performed on sub-shapes that are neither top-level, nor components: To add a sub-shape to a given Label, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_Label subLabel = myAssembly-&gt;AddSubShape (aLabel, subShape); </div>
</div><!-- fragment --><p>To find the Label attached to a given sub-shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_Label subLabel; // new label to be computed </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if ( myAssembly-&gt; FindSubShape (aLabel, subShape, subLabel)) { .. yes .. } </div>
</div><!-- fragment --><p> If the sub-shape is found (yes), <em>subLabel</em> is filled by the correct value.</p>
<p>To find the top-level simple shape (not a compound whether free or not), which contains a given sub-shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_Label mainLabel = myAssembly-&gt;FindMainShape(subShape); </div>
</div><!-- fragment --><p> <b>Note</b> that there should be only one shape for a valid model. In any case, the search stops on the first one found.</p>
<p>To get the sub-shapes of a shape, which are recorded under a label, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TDF_LabelSequence subs; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Standard_Boolean hassubs = myAssembly-&gt;GetSubShapes (aLabel,subs); </div>
</div><!-- fragment --> <h2><a class="anchor" id="occt_xde_2_5"></a>
Properties</h2>
<p>Some properties can be attached directly to shapes. These properties are:</p><ul>
<li>Name (standard definition from OCAF)</li>
<li>Centroid (for validation of transfer)</li>
<li>Volume (for validation of transfer)</li>
<li>Area (for validation of transfer) Some other properties can also be attached, and are also managed by distinct tools for Colors and Layers. Colors and Layers are managed as an alternative way of organizing data (by providing a way of identifying groups of shapes). Colors are put into a table of colors while shapes refer to this table. There are two ways of attaching a color to a shape:</li>
<li>By attaching an item from the table.</li>
<li>Adding the color directly. When the color is added directly, a search is performed in the table of contents to determine if it contains the requested color. Once this search and initialize operation is done, the first way of attaching a color to a shape is used. </li>
</ul>
<h3><a class="anchor" id="occt_xde_2_5_1"></a>
Name</h3>
<p>Name is implemented and used as a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_data_std___name.html">TDataStd_Name</a></em>, which can be attached to any label. Before proceeding, consider that:</p><ul>
<li>In IGES, every entity can have a name with an optional numeric part called a Subscript Label. For example, <em>MYCURVE</em> is a name, and <em>MYCURVE(60)</em> is a name with a Subscript Label.</li>
<li>In STEP, there are two levels: Part Names and Entity Names:<ul>
<li>Part Names are attached to ;main shapes; such as parts and assemblies. These Part Names are specifically supported by XDE.</li>
<li>Entity Names can be attached to every Geometric Entity. This option is rarely used, as it tends to overload the exploitation of the data structure. Only some specific cases justify using this option: for example, when the sending system can really ensure the stability of an entity name after each STEP writing. If such stability is ensured, you can use this option to send an Identifier for external applications using a database. <b>Note</b> that both IGES or STEP files handle names as pure ASCII strings.</li>
</ul>
</li>
</ul>
<p>These considerations are not specific to XDE. What is specific to data exchange is the way names are attached to entities.</p>
<p>To get the name attached to a label (as a reminder using OCAF), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(TDataStd_Name) N; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if ( !aLabel.FindAttribute(TDataStd_Name::GetID(),N)) { </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  // no name is attached </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;} </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;TCollection_ExtendedString name = N-&gt;Get(); </div>
</div><!-- fragment --><p>Don't forget to consider Extended String as ASCII, for the exchange file.</p>
<p>To set a name to a label (as a reminder using OCAF), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TCollection_ExtendedString aName ...; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// contains the desired name for this Label (ASCII) </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;TDataStd_Name::Set (aLabel, aName); </div>
</div><!-- fragment --><h3><a class="anchor" id="occt_xde_2_5_2"></a>
Centroid</h3>
<p>A Centroid is defined by a Point to fix its position. It is handled as a property, item of the class <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___centroid.html">XCAFDoc_Centroid</a></em>, sub-class of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em>. However, global methods give access to the position itself.</p>
<p>This notion has been introduced in STEP, together with that of Volume, and Area, as defining the Validation Properties: this feature allows exchanging the geometries and some basic attached values, in order to perform a synthetic checking on how they are maintained after reading and converting the exchange file. This exchange depends on reliable exchanges of Geometry and Topology. Otherwise, these values can be considered irrelevant.</p>
<p>A centroid can be determined at any level of an assembly, thereby allowing a check of both individual simple shapes and their combinations including locations.</p>
<p>To get a Centroid attached to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gp_Pnt pos; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle(XCAFDoc_Centroid) C; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;aLabel.FindAttribute ( XCAFDoc_Centroid::GetID(), C ); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if ( !C.IsNull() ) pos = C-&gt;Get(); </div>
</div><!-- fragment --><p>To set a Centroid to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gp_Pnt pos (X,Y,Z); </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// the position previously computed for the centroid </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;XCAFDoc_Centroid::Set ( aLabel, pos ); </div>
</div><!-- fragment --><h3><a class="anchor" id="occt_xde_2_5_3"></a>
Area</h3>
<p>An Area is defined by a Real, it corresponds to the computed Area of a Shape, provided that it contains surfaces. It is handled as a property, item of the class <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___area.html">XCAFDoc_Area</a></em>, sub-class of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em>. This notion has been introduced in STEP but it is usually disregarded for a Solid, as Volume is used instead. In addition, it is attached to simple shapes, not to assemblies.</p>
<p>To get an area attached to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Real area; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle(XCAFDoc_Area) A; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;L.FindAttribute ( XCAFDoc_Area::GetID(), A ); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if ( !A.IsNull() ) area = A-&gt;Get(); </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;To set an area value to a Shape, use: </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;Standard_Real area ...; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;// value previously computed for the area </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;XCAFDoc_Area::Set ( aLabel, area ); </div>
</div><!-- fragment --> <h3><a class="anchor" id="occt_xde_2_5_4"></a>
Volume</h3>
<p>A Volume is defined by a Real and corresponds to the computed volume of a Shape, provided that it contains solids. It is handled as a property, an item of the class <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___volume.html">XCAFDoc_Volume</a></em>, sub-class of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em>. This notion has been introduced in STEP. It may be attached to simple shapes or their assemblies for computing cumulated volumes and centers of gravity.</p>
<p>To get a Volume attached to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Real volume; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Handle(XCAFDoc_Volume) V; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;L.FindAttribute ( XCAFDoc_Volume::GetID(), V ); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if ( !V.IsNull() ) volume = V-&gt;Get(); </div>
</div><!-- fragment --><p>To set a volume value to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Standard_Real volume ...; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// value previously computed for the volume </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;XCAFDoc_Volume::Set ( aLabel, volume ); </div>
</div><!-- fragment --> <h2><a class="anchor" id="occt_xde_2_6"></a>
Colors and Layers</h2>
<p>XDE can read and write colors and layers assigned to shapes or their subparts (down to level of faces and edges) to and from both IGES and STEP formats.</p>
<div class="image">
<img src="239_xde_12_400.png" alt="239_xde_12_400.png"/>
<div class="caption">
Motor Head</div></div>
<p>In an XDE document, colors are managed by the class <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___color_tool.html">XCAFDoc_ColorTool</a></em>. This is done with the same principles as for ShapeTool with Shapes, and with the same capability of having a tool on the Main Label, or on any sub-label. The Property itself is defined as an <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___color.html">XCAFDoc_Color</a></em>, sub-class of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em>.</p>
<p>Colors are stored in a child of the starting document label: it is the second level (0.1.2), while Shapes are at the first level. Each color then corresponds to a dedicated label, the property itself is a <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_quantity___color.html">Quantity_Color</a>, which has a name and value for Red, Green, Blue. A Color may be attached to Surfaces (flat colors) or to Curves (wireframe colors), or to both. A Color may be attached to a sub-shape. In such a case, the sub-shape (and its own sub-shapes) takes its own Color as a priority.</p>
<p>Layers are handled using the same principles as Colors. In all operations described below you can simply replace <b>Color</b> with <b>Layer</b> when dealing with Layers. Layers are supported by the class <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___layer_tool.html">XCAFDoc_LayerTool</a></em>.</p>
<p>The class of the property is <em>XCAFDoc_Layer</em>, sub-class of <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_d_f___attribute.html">TDF_Attribute</a></em> while its definition is a <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_t_collection___extended_string.html">TCollection_ExtendedString</a></em>. Integers are generally used when dealing with Layers. The general cases are:</p><ul>
<li>IGES has <em>LevelList</em> as a list of Layer Numbers (not often used)</li>
<li>STEP identifies a Layer (not by a Number, but by a String), to be more general.</li>
</ul>
<p>Colors and Shapes are related to by Tree Nodes.</p>
<p>These definitions are common to various exchange formats, at least for STEP and IGES.</p>
<h3><a class="anchor" id="occt_xde_2_6_1"></a>
Initialization</h3>
<p>To query, edit, or initialize a Document to handle Colors of XCAF, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Handle(XCAFDoc_ColorTool) myColors = </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;XCAFDoc_DocumentTool::ColorTool(Doc-&gt;Main ()); </div>
</div><!-- fragment --><p> This call can be used at any time. The first time it is used, a relevant structure is added to the document. This definition is used for all the following color calls and will not be repeated for these.</p>
<h3><a class="anchor" id="occt_xde_2_6_2"></a>
Adding a Color</h3>
<p>There are two ways to add a color. You can:</p><ul>
<li>add a new Color defined as <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_quantity___color.html">Quantity_Color</a></em> and then directly set it to a Shape (anonymous Color)</li>
<li>define a new Property Color, add it to the list of Colors, and then set it to various shapes. When the Color is added by its value <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_quantity___color.html">Quantity_Color</a></em>, it is added only if it has not yet been recorded (same RGB values) in the Document.</li>
</ul>
<p>To set a Color to a Shape using a label, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Quantity_Color Col (red,green,blue); </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;XCAFDoc_ColorType ctype ..; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// can take one of these values : </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// XCAFDoc_ColorGen : all types of geometries </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;// XCAFDoc_ColorSurf : surfaces only </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// XCAFDoc_ColorCurv : curves only </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;myColors-&gt;SetColor ( aLabel, Col, ctype ); </div>
</div><!-- fragment --><p> Alternately, the Shape can be designated directly, without using its label, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;myColors-&gt;SetColor ( aShape, Col, ctype ); </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Creating and Adding a Color, explicitly </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Quantity_Color Col (red,green,blue); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;TDF_Label ColLabel = myColors-&gt;AddColor ( Col ); </div>
</div><!-- fragment --><p> <b>Note</b> that this Color can then be named, allowing later retrieval by its Name instead of its Value.</p>
<p>To set a Color, identified by its Label and already recorded, to a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;XCAFDoc_ColorType ctype ..; // see above</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if ( myColors-&gt;SetColors ( aLabel, ColLabel, ctype) ) {.. it is done .. }</div>
</div><!-- fragment --><p> In this example, <em>aLabel</em> can be replaced by <em>aShape</em> directly.</p>
<h3><a class="anchor" id="occt_xde_2_6_3"></a>
Queries on Colors</h3>
<p>Various queries can be performed on colors. However, only specific queries are included in this section, not general queries using names.</p>
<p>To determine if a Color is attached to a Shape, for a given color type (ctype), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if ( myColors-&gt;IsSet (aLabel , ctype)) { </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  // yes, there is one .. </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;} </div>
</div><!-- fragment --><p> In this example, <em>aLabel</em> can be replaced by <em>aShape</em> directly.</p>
<p>To get the Color attached to a Shape (for any color type), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Quantity_Color col; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// will receive the recorded value (if there is some)</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if ( !myColors-&gt;GetColor(aLabel, col) ) { </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// sorry, no color .. </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div>
</div><!-- fragment --><p>Color name can also be queried from <em>col.StringName</em> or <em>col.Name</em>. In this example, <em>aLabel</em> can be replaced by <em>aShape</em> directly.</p>
<p>To get the Color attached to a Shape, with a specific color type, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;XCAFDoc_ColorType ctype ..; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Quantity_Color col; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// will receive the recorded value (if there is some) </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if ( !myColors-&gt;GetColor(aLabel, ctype, col) ) { </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;// sorry, no color .. </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;} </div>
</div><!-- fragment --><p>To get all the Colors recorded in the Document, use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Quantity_Color col; // to receive the values </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TDF_LabelSequence ColLabels; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;myColors-&gt;GetColors(ColLabels); </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Standard_Integer i, nbc = ColLabels.Length(); </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;for (i = 1; i = nbc; i ++) { </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  aLabel = Labels.Value(i); </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  if ( !myColors-&gt;GetColor(aLabel, col) ) continue; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  // col receives the color n0 i .. </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;} </div>
</div><!-- fragment --><p>To find a Color from its Value, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Quantity_Color Col (red,green,blue); </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TDF_Label ColLabel = myColors-FindColor (Col); </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if ( !ColLabel.IsNull() ) { .. found .. } </div>
</div><!-- fragment --><h3><a class="anchor" id="occt_xde_2_6_4"></a>
Editing Colors</h3>
<p>Besides adding colors, the following attribute edits can be made:</p>
<p>To unset a Color on a Shape, use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;XCAFDoc_ColorType ctype ...; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// desired type (XCAFDoc_ColorGen for all ) </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;myColors-&gt;UnSetColor (aLabel,ctype); </div>
</div><!-- fragment --><p> To remove a Color and all the references to it (so that the related shapes will become colorless), use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;myColors-&gt;RemoveColor(ColLabel); </div>
</div><!-- fragment --><h2><a class="anchor" id="occt_xde_2_8"></a>
Reading and Writing STEP or IGES</h2>
<p>Note that saving and restoring the document itself are standard OCAF operations. As the various previously described definitions enter into this frame, they will not be explained any further. The same can be said for Viewing: presentations can be defined from Shapes and Colors.</p>
<p>There are several important points to consider:</p><ul>
<li>Previously defined Readers and Writers for dealing with Shapes only, whether <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_standard.html">Standard</a> or Advanced, remain unchanged in their form and in their dependencies. In addition, functions other than mapping are also unchanged.</li>
<li>XDE provides mapping with data other than Shapes. Names, Colors, Layers, Validation Properties (Centroid, Volume, Area), and Assembly Structure are hierarchic with rigid motion.</li>
<li>XDE mapping is relevant for use within the Advanced level of Data Exchanges, rather than <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_standard.html">Standard</a> ones, because a higher level of information is better suited to a higher quality of shapes. In addition, this allows to avoid the multiplicity of combinations between various options. Note that this choice is not one of architecture but of practical usage and packaging.</li>
<li>Reader and Writer classes for XDE are generally used like those for Shapes. However, their use is adapted to manage a Document rather than a Shape.</li>
</ul>
<p>The packages to manage this are <em><a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_c_a_f_control.html">IGESCAFControl</a></em> for IGES, and <em>STEPCAFControl</em> for STEP. </p>
<h3><a class="anchor" id="occt_xde_2_8_1"></a>
Reading a STEP file</h3>
<p>To read a STEP file by itself, use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;STEPCAFControl_Reader reader; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;IFSelect_ReturnStatus readstat = reader.ReadFile(filename); </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// The various ways of reading a file are available here too : </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// to read it by the reader, to take it from a WorkSession ... </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Handle(TDocStd_Document) doc... </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// the document referred to is already defined and </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;// properly initialized. </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;// Now, the transfer itself </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;if ( !reader.Transfer ( doc ) ) { </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  cout;Cannot read any relevant data from the STEP file;endl; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  // abandon .. </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;} </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;// Here, the Document has been filled from a STEP file, </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;// it is ready to use </div>
</div><!-- fragment --><p>In addition, the reader provides methods that are applicable to document transfers and for directly querying of the data produced. </p>
<h3><a class="anchor" id="occt_xde_2_8_2"></a>
Writing a STEP file</h3>
<p>To write a STEP file by itself, use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;STEPControl_StepModelType mode = </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;STEPControl_AsIs; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// Asis is the recommended value, others are available </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// Firstly, perform the conversion to STEP entities </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;STEPCAFControl_Writer writer; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;//(the user can work with an already prepared WorkSession or create a //new one) </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;Standard_Boolean scratch = Standard_False; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;STEPCAFControl_Writer writer ( WS, scratch ); </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;// Translating document (conversion) to STEP </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;if ( ! writer.Transfer ( Doc, mode ) ) { </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  cout;The document cannot be translated or gives no result;endl; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  // abandon .. </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;} </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;// Writing the File </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;IFSelect_ReturnStatus stat = writer.Write(file-name); </div>
</div><!-- fragment --><h3><a class="anchor" id="occt_xde_2_8_3"></a>
Reading an IGES File</h3>
<p>Use the same procedure as for a STEP file but with <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_c_a_f_control.html">IGESCAFControl</a> instead of STEPCAFControl. </p>
<h3><a class="anchor" id="occt_xde_2_8_4"></a>
Writing an IGES File</h3>
<p>Use the same procedure as for a STEP file but with <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_c_a_f_control.html">IGESCAFControl</a> instead of STEPCAFControl.</p>
<h2><a class="anchor" id="occt_xde_2_9"></a>
Using an XDE Document</h2>
<p>There are several ways of exploiting XDE data from an application, you can:</p><ol type="1">
<li>Get the data relevant for the application by mapping XDE/Appli, then discard the XDE data once it has been used.</li>
<li>Create a reference from the Application Document to the XDE Document, to have its data available as external data.</li>
<li>Embed XDE data inside the Application Document (see the following section for details).</li>
<li>Directly exploit XDE data such as when using file checkers. </li>
</ol>
<h3><a class="anchor" id="occt_xde_2_91"></a>
XDE Data inside an Application Document</h3>
<p>To have XCAF data elsewhere than under label 0.1, you use the DocLabel of XDE. The method DocLabel from <a class="elRef" doxygen="D:/install/CR0-OCCT7_CR0-OCCT7/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_c_a_f_doc___document_tool.html">XCAFDoc_DocumentTool</a> determines the relevant Label for XCAF. However, note that the default is 0.1.</p>
<p>In addition, as XDE data is defined and managed in a modular way, you can consider exclusively Assembly Structure, only Colors, and so on.</p>
<p>As XDE provides an extension of the data structure, for relevant data in standardized exchanges, note the following:</p><ul>
<li>This data structure is fitted for data exchange, rather than for use by the final application.</li>
<li>The provided definitions are general, for common use and therefore do not bring strongly specific semantics.</li>
</ul>
<p>As a result, if an application works on Assemblies, on Colors or Layers, on Validation Properties (as defined in STEP), it can rely on all or a part of the XDE definitions, and include them in its own data structure.</p>
<p>In addition, if an application has a data structure far from these notions, it can get data (such as Colors and Names on Shapes) according to its needs, but without having to consider the whole. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 4 2016 21:57:45 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
